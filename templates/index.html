{% extends "base.html" %}
{% block content %}
<section class="grid md:grid-cols-2 gap-8 items-center">
  <div>
    <h1 class="text-4xl font-extrabold mb-3">{{ site.hero.heading }}</h1>
    <p class="text-lg text-gray-700 mb-6">{{ site.hero.subheading }}</p>
    <div class="flex gap-4">
      <a href="{{ url_for('projects') }}" class="px-5 py-3 rounded-2xl bg-gray-900 text-white">View Projects</a>
      <a href="{{ url_for('blog') }}" class="px-5 py-3 rounded-2xl border">Read Blog</a>
    </div>
  </div>
  <img src="{{ url_for('static', filename='img/hero.jpg') }}" alt="Portrait" class="rounded-2xl shadow" />
</section>

<section class="mt-16">
  <h2 class="text-2xl font-semibold mb-4">Featured Projects</h2>
  <div class="grid md:grid-cols-3 gap-6">
    {% for p in projects %}
    <a href="{{ url_for('project_detail', slug=p.slug) }}" class="block bg-white p-4 rounded-2xl shadow hover:shadow-md transition">
      <img src="{{ p.thumbnail }}" alt="" class="rounded-xl mb-3 w-full h-40 object-cover">
      <h3 class="font-semibold">{{ p.title }}</h3>
      <p class="text-sm text-gray-600">{{ p.short }}</p>
      <div class="mt-2 flex flex-wrap gap-2">
        {% for tag in p.tags %}<span class="text-xs px-2 py-1 rounded-full bg-gray-100">{{ tag }}</span>{% endfor %}
      </div>
    </a>
    {% endfor %}
  </div>
</section>

<section id="contact" class="mt-16">
  <h2 class="text-2xl font-semibold mb-4">Get in touch</h2>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="space-y-2 mb-4">
        {% for category, message in messages %}
          <div class="p-3 rounded-xl {% if category=='error' %}bg-red-100 text-red-800{% else %}bg-green-100 text-green-800{% endif %}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
  <form method="post" action="{{ url_for('contact') }}" class="grid gap-3 max-w-lg">
    <input class="border rounded-xl p-3" type="text" name="name" placeholder="Your name" required>
    <input class="border rounded-xl p-3" type="email" name="email" placeholder="Your email" required>
    <textarea class="border rounded-xl p-3" name="message" rows="5" placeholder="Say helloâ€¦" required></textarea>
    <button class="px-5 py-3 rounded-2xl bg-gray-900 text-white w-fit">Send</button>
  </form>
</section>
{% endblock %}